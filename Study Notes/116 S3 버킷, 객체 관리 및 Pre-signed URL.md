# S3 버킷, 객체 관리 및 Pre-signed URL

### 📅 날짜:

> 2025.12.19 (금)
> 

### 📘 오늘 공부한 주제:

> S3 버킷 생성, 객체 업로드, 객체 속성 이해, Pre-signed URL 개념과 활용
> 

---

## 📝 핵심 개념 요약

### 1. 버킷 및 객체

| 개념 | 설명 |
| --- | --- |
| **버킷(Bucket)** | S3 저장소 최상위 컨테이너, 전 세계에서 유일한 이름 필요, 리전 선택 중요 |
| **객체(Object)** | 버킷에 저장되는 파일, 메타데이터 포함, 고유 키 필요 |
| **키(Key)** | 객체의 전체 경로, 버킷 내에서 유일, 동일 경로 업로드 시 덮어쓰기 가능 |

### 2. Pre-signed URL

| 개념 | 설명 |
| --- | --- |
| **정의** | S3 프라이빗 파일에 대해 임시 접근 허가를 제공하는 URL |
| **특징** | 시간 제한, 특정 객체 접근 허용, AWS 자격증명 없이 사용 가능 |
| **사용 예** | 결제 완료 후 파일 다운로드, 프로필 사진 업로드, 친구와 파일 공유 |

## 📊 핵심 요약 표

| 개념 | 설명 |
| --- | --- |
| 버킷 | 최상위 저장소, 전 세계 유일, 리전 중요 |
| 객체 | 파일+메타데이터, 버킷 내 고유 키 필요 |
| 키 | 파일 경로, 동일 경로 업로드 시 덮어쓰기 주의 |
| Pre-signed URL | 임시 접근 링크, 시간 제한, 특정 객체 접근 허용 |
| 보안 | 권한 검증 필수, 짧은 만료 시간, URL 노출 주의 |

### 💻 실습 내용 정리

| 단계 | 내용 |
| --- | --- |
| 1 | AWS 콘솔 → S3 → 버킷 만들기 (리전: 서울, 퍼블릭 엑세스 차단 유지, 버전 관리 비활성화) |
| 2 | 로컬 이미지 준비 → 버킷에 업로드 → 키 확인, 속성 보기 |
| 3 | 객체 URL 확인 → 퍼블릭 엑세스 차단으로 AccessDenied 발생 확인 |
| 4 | Pre-signed URL 생성 (콘솔에서 만료시간 설정, 클립보드 복사) |
| 5 | Node.js에서 `getSignedUrl`로 다운로드/업로드 URL 생성 |
| 6 | Express.js API 구현 → 클라이언트에서 Pre-signed URL 사용하여 안전하게 업로드/다운로드 |
| 7 | React에서 파일 업로드/다운로드 연동 실습 |

### ❗ 헷갈렸던 점 / 문제 해결:

| 문제 | 해결 |
| --- | --- |
| 동일 키로 파일 업로드 시 덮어쓰기됨 | 객체 업로드 시 파일명/경로 유니크하게 관리 |
| 퍼블릭 액세스 차단 → 객체 브라우저 접근 불가 | Pre-signed URL로 임시 접근 허용 |
| 브라우저에서 S3 직접 업로드 → AWS Key 노출 위험 | 서버에서 Pre-signed URL 발급 후 브라우저가 직접 업로드 |

### 💡 느낀 점 / 배운 점:

- S3 객체를 퍼블릭으로 열면 편리하지만 보안 위험이 크므로 기본은 프라이빗 유지
- Pre-signed URL은 시간 제한, 사용자 권한 제어 가능 → 안전하게 공유 및 업로드 가능
- 서버 부하를 줄이고 AWS Key 노출 없이 브라우저에서 S3 직접 업로드 가능

### 🏷️ 키워드 (태그):

`#AWS` `#S3` `#버킷` `#객체` `#PreSignedURL` `#보안` `#파일업로드` `#정적파일` `#React` `#Express`

| 날짜 | 주제 | 핵심 요약 | 실습 내용 | 문제 해결 / 느낀 점 | 키워드 태그 | 복습 필요 |
| --- | --- | --- | --- | --- | --- | --- |
| 2025-12-19 | S3 버킷/객체 관리 & Pre-signed URL | 버킷/객체/키 개념 이해, 퍼블릭 vs 프라이빗 접근, Pre-signed URL 활용 | 버킷 생성 → 이미지 업로드 → URL 확인 → Pre-signed URL 생성 → Node.js/Express API → React 연동 | 퍼블릭 차단으로 접근 불가 → Pre-signed URL 활용 / 객체 덮어쓰기 주의 / 브라우저 직접 업로드 안전하게 처리 | `AWS` `S3` `버킷` `객체` `PreSignedURL` `보안` `업로드` `다운로드` `React` `Express` | ✅ |

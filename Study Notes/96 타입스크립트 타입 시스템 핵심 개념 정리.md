# 타입스크립트 타입 시스템 핵심 개념 정리

### 📅 날짜:

> 2025.11.21 (금)
> 

### 📘 오늘 공부한 주제:

> 타입 시스템 핵심 개념
> 

---

## 📝 핵심 개념 요약

- TypeScript의 타입은 “값의 집합”으로 이해할 수 있음
- `any` / `unknown`는 모든 타입을 수용하는 **Top Type**
- 구조적 타이핑 기반: “이름이 아니라 구조가 같으면 같은 타입”
- 합 타입(Union)과 곱 타입(Product)은 TS 타입 시스템의 핵심
- 인터섹션 타입은 Product Type의 명시적 표현
- 타입 추론(Type Inference)으로 타입을 자동 판단
- 타입 단언(Type Assertion)과 Non-null Assertion은 “정말 확실한 경우만”
- 타입 좁히기(Type Narrowing)는 런타임 검사로 타입 범위를 줄이는 것
- Discriminated Union(판별 유니온)은 실무에서 가장 많이 쓰이는 안전한 유니온 패턴

## 📊 핵심 요약 표

| 개념 | 설명 | 예시 |
| --- | --- | --- |
| 타입은 집합 | 모든 타입은 가능한 값들의 집합 | `number`, `string` |
| Top Type | 모든 타입을 포함하는 타입 | `any`, `unknown` |
| 구조적 타이핑 | 구조가 일치하면 호환됨 | `Dog → Animal` |
| Union Type | “또는(OR)” 관계 | `"loading" |
| Product Type | “그리고(AND)” 관계 | 객체, 튜플 |
| 인터섹션 | 여러 타입을 모두 만족 | `A & B` |
| 타입 추론 | TS가 자동 추론 | `let msg = "hi"` |
| 타입 단언 | 개발자가 명시적으로 지정 | `as HTMLInputElement` |
| Non-null Assertion | 값이 null이 아님을 확신 | `value!` |
| 타입 좁히기 | 조건문으로 타입 제한 | `typeof`, `in`, `instanceof` |
| 판별 유니온 | 공통된 literal 기반 유니온 | `type Shape = {type: 'circle'} |

### 💻 실습 내용 정리

### ✔ 타입 가드 5가지 실습

1. **조건문 기반 타입가드**
    - `if`, `switch`로 타입 좁히기
2. **typeof 가드**
    - 기본 타입 판별 (`string`, `number`)
3. **instanceof 가드**
    - 클래스 인스턴스 판별
4. **in 가드**
    - 특정 속성이 존재하는지 검사
5. **사용자 정의 타입 가드**
    - `animal is Dog` 처럼 특정 타입을 반환하는 함수 사용

---

### ✔ 판별 유니온 구현 실습

- `type Shape = Circle | Rectangle | Triangle`
- 각 타입에 `type: 'circle'` 같은 **판별자(discriminator)** 추가
- `switch(shape.type)` 으로 영역 안전하게 계산
- default는 `never` 처리하여 모든 경우를 exhaustively check

---

### ✔ 블로그 Post 상태를 판별 유니온으로 수정하기

(실습 요구사항)

- `Post` 타입을 판별 유니온으로 변경
- `switch(post.status)`로 상태 처리
- `index.ts`에서 모든 post 상태 출력

### ❗ 헷갈렸던 점 / 문제 해결:

| 문제 상황 | 해결 방법 |
| --- | --- |
| `unknown` 타입 값을 바로 사용 불가 | 타입 좁히기(`typeof`, `in`)로 검증 후 사용 |
| `if (user.age)`에서 `0`이 빠지는 문제 | `user.age != null` 또는 `typeof user.age === 'number'` 사용 |
| 타입 단언을 남용하면 타입 안정성 깨짐 | 타입 가드, 조건문으로 실제 런타임 검증을 우선 적용 |
| Discriminated Union에서 default가 안 걸림 | `never` 활용해 모든 케이스 처리되었는지 확인 |

### 💡 느낀 점 / 배운 점:

- 타입스크립트의 타입 시스템은 "집합과 논리" 개념으로 이해하면 명확해짐
- 특히 **Union(합), Intersection(곱), 구조적 타이핑**은 TS 전반을 관통하는 핵심 원리
- 결국 TS는 **정적 안전성**을 높여주는 도구이며, 런타임과 함께 생각해야 오류를 막을 수 있음
- 타입 좁히기와 판별 유니온은 실무에서 매우 자주 만날 패턴이므로 꼭 몸에 익힐 것

### 🏷️ 키워드 (태그):

`#타입스크립트` `#TypeSystem` `#Unknown` `#Any` `#StructuralTyping` `#타입단언` `#타입추론` `#ProductType` `#DiscriminatedUnion`

| 날짜 | 주제 | 핵심 요약 | 실습 내용 | 문제 해결 / 느낀 점 | 키워드 태그 | 복습 필요 |
| --- | --- | --- | --- | --- | --- | --- |
| 2025-11-21 | 타입 시스템 핵심 개념 | 타입 = 값의 집합, Top Type, 구조적 타이핑, Union/Intersection, 타입좁히기, 판별 유니온 | 타입 가드, 판별 유니온, 블로그 Post 상태 처리 | 타입 좁히기와 구조적 타이핑 개념 확실히 이해됨 | `#TypeSystem` `#Union` `#ProductType` | ✅ |

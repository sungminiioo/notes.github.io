# 유저 기능 (Authentication & Authorization)

### 📅 날짜:

> 2025.09.30 (화)
> 

### 📘 오늘 공부한 주제:

> 유저 기능(인증 & 인가) - 회원가입, 로그인, HTTP 특성
> 

---

## 📝 핵심 개념 요약

- **유저 기능(User Feature)** = 인증(Authentication) + 인가(Authorization) + 확장 기능(사용자 관리, 세션 관리, 소셜 로그인, 개인화)
- **인증(Authentication)**: "당신은 누구인가?" → 아이디·비밀번호 확인, 로그인, 회원가입 등
- **인가(Authorization)**: "당신이 무엇을 할 수 있는가?" → 권한에 따라 요청 가능 여부 결정
- **회원가입(SignUp)**: 이메일/비밀번호를 body로 서버에 전달 → DB 저장 → 응답 상태코드 반환
- **로그인(SignIn)**: 이메일/비밀번호 확인 후 인증서(세션 ID or 토큰) 발급
- **HTTP 특징**
    - 무상태(Stateless): 서버가 클라이언트 상태를 기억하지 않음 → 요청마다 인증 정보 필요
    - 비연결성(Connectionless): 매번 새로운 연결, 최소 자원 사용
- **예외: 채팅** → 상태 유지(Stateful) + 연결 유지(WebSocket)

## 📊 핵심 요약 표

| 구분 | 의미 | 예시 | 반환 상태코드(주요) |
| --- | --- | --- | --- |
| **인증** | 사용자가 누구인지 확인 | 로그인, 회원가입 | 200, 201, 401, 409 |
| **인가** | 사용자가 무엇을 할 수 있는지 확인 | 게시글 삭제 권한 확인 | 403, 404 |
| **회원가입** | 유저 정보 생성 | 이메일/비밀번호 전달 → DB 저장 | 201, 400, 409, 422 |
| **로그인** | 기존 유저 인증 | 이메일/비밀번호 확인 → 세션/토큰 발급 | 200, 401, 403 |
| **HTTP 특성** | 무상태 & 비연결성 | 매 요청마다 인증서 필요 | 확장성 ↑ |

### 💻 실습 내용 정리

- **회원가입 프로세스**
    1. 클라이언트 → 이름/이메일/비밀번호 입력 후 서버 전송 (POST)
    2. 서버 → body 검증 후 DB 저장
    3. 응답 → 201 Created or 오류 코드 반환
- **로그인 프로세스**
    1. 클라이언트 → 이메일/비밀번호 입력
    2. 서버 → 유저 존재 여부 확인 + 비밀번호 검증
    3. 성공 시 → 세션 ID(쿠키) 또는 Access Token 반환
    4. 실패 시 → 401 Unauthorized or 403 Forbidden

### ❗ 헷갈렸던 점 / 문제 해결:

- **Q: 이메일을 user_id 대신 식별자로 써도 되나요?**
    
    → ❌ 이메일은 변경될 수 있고 평문으로 노출되기 쉬워 보안상 취약 → DB 고유 ID 사용 권장
    
- **Q: 상태코드가 팀마다 다르다고 했는데, 표준은 무시해도 되나요?**
    
    → ❌ 표준을 참고하되 팀 컨벤션에 따라 정리 → 협업 시 혼동 줄이는 게 중요
    

### 💡 느낀 점 / 배운 점:

- 유저 기능은 단순히 로그인/로그아웃이 아니라 **인증+인가 전체 시스템**이라는 점을 알게 됨
- HTTP 무상태 특성 덕분에 확장성이 좋아지지만, 채팅 같은 경우는 예외적으로 상태 유지가 필요하다는 점이 흥미로웠음
- API 설계 시 **상태코드 정의**를 팀 컨벤션으로 명확히 하는 게 중요하다고 느낌

### 🏷️ 키워드 (태그):

`#유저기능` `#인증` `#인가` `#회원가입` `#로그인` `#세션` `#토큰` `#HTTP` `#무상태` `#비연결성`

| 날짜 | 주제 | 핵심 요약 | 실습 내용 | 문제 해결 / 느낀 점 | 키워드 태그 | 복습 필요 |
| --- | --- | --- | --- | --- | --- | --- |
| 2025-09-30 | 유저 기능 (인증/인가) | 인증=사용자 확인, 인가=권한 확인, 회원가입·로그인 절차, HTTP 무상태/비연결성 특징 | 회원가입·로그인 요청/응답 흐름, 상태코드 확인 | 이메일 대신 고유 ID 식별 필요, 상태코드는 표준+팀 컨벤션, 인증/인가 구분 확실히 이해 | `#유저기능` `#인증` `#인가` `#회원가입` `#로그인` `#HTTP` | ✅ |

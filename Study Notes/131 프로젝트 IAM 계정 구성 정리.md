# 프로젝트 IAM 계정 구성 정리

### 📅 날짜:

> 2025.01.09 (금)
> 

### 📘 오늘 공부한 주제:

> AWS 프로젝트용 IAM 계정 구성 및 권한 설계
> 

---

## 📝 핵심 개념 요약

- AWS 계정 보안의 핵심은 **Root 계정 사용 최소화**
- 실무 및 팀 프로젝트에서는 반드시 **IAM 사용자 + 그룹 기반 권한 관리**를 사용
- 권한은 **사람이 아니라 “그룹”에 부여**하는 것이 원칙
- 프로젝트 권장 구조
    - Root 계정: 잠금 수준으로 보호 (결제·비상용)
    - 팀장: 관리자 그룹(Admin)
    - 팀원: 개발자 그룹(Developers)
- 보안 기본 원칙
    - MFA 필수
    - 액세스 키 최소화
    - 최소 권한의 원칙(Least Privilege)

## 📊 핵심 요약 표

| 구분 | 대상 | 권한 수준 | 핵심 포인트 |
| --- | --- | --- | --- |
| Root 계정 | 결제·비상용 | 최고 권한 | MFA 필수, 실사용 금지 |
| Admin 그룹 | 팀장 | 관리자 권한 | 거의 모든 리소스 제어 |
| Developers 그룹 | 팀원 | 개발 권한 | 서비스 운영에 필요한 권한만 |
| IAM 사용자 | 개인 계정 | 그룹 상속 | 사용자별 권한 직접 부여 ❌ |

### 💻 실습 내용 정리

## 1️⃣ 프로젝트 권장 IAM 구조

```
Root 계정 (잠금)
├── TeamLeader (IAM 사용자) - Admin 그룹
├── Developer1 (IAM 사용자) - Developers 그룹
├── Developer2 (IAM 사용자) - Developers 그룹
└── Developer3 (IAM 사용자) - Developers 그룹
```

- Root 계정은 **직접 작업용으로 사용하지 않음**
- 모든 실제 작업은 IAM 사용자로 진행

---

## 2️⃣ 1단계: Root 계정 보안 강화

```bash
1. Root 계정에 MFA 설정
2. Root 계정 액세스 키 삭제 (있다면)
3. Root 계정 비밀번호 복잡하게 변경
4. 팀장만 Root 계정 정보 보관 (결제/비상용)
```

**MFA 설정 절차 요약**

- Root 계정 로그인
- 우측 상단 계정 클릭 → 보안 자격 증명
- MFA 디바이스 할당
- 인증 관리자 앱 선택
- Google Authenticator 등 OTP 앱 연동

👉 Root 계정은 **로그인 자체가 위험한 계정**이라는 인식이 중요

---

## 3️⃣ 2단계: 관리자 그룹 생성 (팀장용)

```json
{
"GroupName":"admin",
"Policies":[
"AdministratorAccess"
]
}
```

- 팀장 IAM 사용자에게 할당
- 거의 모든 AWS 리소스 접근 가능 (결제 제외)

💡 **주의**

- 교육/실습 환경에서는 편의상 사용
- 실제 운영 환경에서는 반드시 **권한 축소 필요**

---

## 4️⃣ 3단계: 개발자 그룹 생성 (팀원용)

```json
{
"GroupName":"Developers",
"Policies":[
"EC2FullAccess",
"S3FullAccess",
"RDSFullAccess",
"ElasticLoadBalancingFullAccess",
"Route53FullAccess",
"CertificateManagerFullAccess",
"IAMReadOnlyAccess",
"CloudWatchReadOnlyAccess",
"CloudTrailReadOnlyAccess"
]
}
```

**권한 구성 의도**

- 인프라 생성 및 운영 가능
- IAM 수정 ❌ (조회만 가능)
- 모니터링 및 감사 로그 확인 가능

---

## 5️⃣ 4단계: IAM 사용자 생성 및 그룹 할당

```bash
TeamLeader  → Admin 그룹
Developer1 → Developers 그룹
Developer2 → Developers 그룹
Developer3 → Developers 그룹
```

- 사용자 생성 시 **.csv 파일 다운로드 필수**
- CSV 파일에는:
    - 콘솔 로그인 URL
    - 임시 비밀번호
    - 액세스 키 정보 포함
- 팀장은 해당 파일을 **DM/이메일로 안전하게 전달**

### ❗ 헷갈렸던 점 / 문제 해결:

- **Root 계정으로 작업하면 안 되는 이유**
    - 권한이 너무 강력함
    - 보안 사고 발생 시 피해 범위가 큼
- **사용자마다 권한을 직접 주면 안 되는 이유**
    - 관리 어려움
    - 권한 추적 불가
    - 그룹 기반 관리가 표준
- **Developers 그룹에 IAM 권한을 준 이유**
    - 실수로 사용자/권한 수정 방지
    - 구조 파악을 위한 ReadOnlyAccess만 허용

### 💡 느낀 점 / 배운 점:

- AWS 보안의 핵심은 “막는 것”이 아니라
    
    **역할을 나누고 책임을 분리하는 것**
    
- IAM 설계는 프로젝트 초기에 반드시 잡아야 함
- 나중에 수정하려면 비용 + 위험이 훨씬 커짐
- 실무에서는 보안이 곧 실력이라는 느낌을 받음

### 🏷️ 키워드 (태그):

`AWS` `IAM` `보안` `Root계정` `IAM사용자` `IAM그룹` `최소권한원칙`  

| 날짜 | 주제 | 핵심 요약 | 실습 내용 | 문제 해결 / 느낀 점 | 키워드 태그 | 복습 필요 |
| --- | --- | --- | --- | --- | --- | --- |
| 2025-01-09 | IAM 계정 구성 | Root 계정 최소 사용, IAM 사용자+그룹 기반 권한 관리 | Root MFA 설정, Admin/Developers 그룹 생성, 사용자 할당 | Root 계정 위험성 이해, 그룹 기반 권한 관리의 중요성 인식 | `AWS` `IAM` `보안` | ✅ |

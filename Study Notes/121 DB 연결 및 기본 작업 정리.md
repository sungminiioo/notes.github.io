# DB 연결 및 기본 작업 정리

### 📅 날짜:

> 2025.12.26 (금)
> 

### 📘 오늘 공부한 주제:

> DBeaver로 AWS RDS(DB 인스턴스) 연결 & 기본 SQL 작업
> 

---

## 📝 핵심 개념 요약

- DBeaver는 여러 종류의 데이터베이스를 쉽게 연결하고 SQL을 실행할 수 있는 무료 DB 클라이언트
- RDS는 직접 접속이 제한되어 EC2 SSH 터널을 통해 접속
- SQL 기본 기능(생성·삽입·조회·그룹핑) 실습
- GUI와 SQL을 함께 사용하여 DB 구조를 시각적으로 이해 가능

## 📊 핵심 요약 표

| 개념 | 요약 | 설명 |
| --- | --- | --- |
| DBeaver | 무료 DB 관리 클라이언트 | DB 연결·조회·수정·SQL 실행 가능 |
| SSH 터널 연결 | EC2를 통해 RDS 안전 접속 | 퍼블릭 접근 불가 RDS 연결 방식 |
| DB 생성 | `CREATE DATABASE` | 프로젝트용 DB 생성 |
| 테이블 생성 | 스키마 정의 | 컬럼 타입/키/DEFAULT 포함 |
| 데이터 삽입 | `INSERT INTO` | 샘플 row 여러 개 삽입 |
| 데이터 조회 | `SELECT` | 전체 조회·조건 조회·정렬 |
| 통계 쿼리 | `GROUP BY` | 도시별 사용자 수 계산 |

### 💻 실습 내용 정리

### 1) DBeaver로 RDS 접속

- PostgreSQL 선택 후 Next
- Host/Port/DB명 등 입력
- SSH Tunnel 설정: EC2 퍼블릭 IP + pem 키 지정
- Test Connection → Success 확인 후 Finish

### 2) SQL 편집기에서 DB 조회

```sql
SELECT datname FROM pg_database;
```

### 3) 새 데이터베이스 생성

```sql
CREATE DATABASE my_project;
```

### 4) 생성된 DB 선택(Edit Connection → DB명 변경)

### 5) User 테이블 생성

```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    age INTEGER,
    city VARCHAR(100),
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT NOW()
);
```

### 6) 샘플 데이터 삽입

```sql
INSERT INTO users (name, email, age, city) VALUES
  ('김철수','kim@example.com',28,'서울'),
  ('이영희','lee@example.com',32,'부산'),
  ('박민수','park@example.com',25,'대구'),
  ('최지은','choi@example.com',29,'인천'),
  ('정현우','jung@example.com',35,'광주');
```

### 7) 조회/조건 조회/통계

```sql
SELECT * FROM users;
SELECT name, email, city FROM users WHERE age >= 30;
SELECT city, COUNT(*) as user_count
FROM users
GROUP BY city
ORDER BY user_count DESC;
```

### ❗ 헷갈렸던 점 / 문제 해결:

- **RDS는 퍼블릭 접근 막혀 있어서 바로 접속이 안 됨 → EC2 SSH Tunnel**을 사용해야 연결됨
- SQL 실행 시 **세미콜론 기준으로 실행해야 해서 줄 위치 중요함**
- Edit Connection에서 **DB명 변경 후 다시 연결해야 새 DB 선택됨**

### 💡 느낀 점 / 배운 점:

- GUI(DBeaver)와 SQL을 함께 쓰니 DB 구조 이해가 빠름
- EC2를 이용한 SSH 터널 개념이 확실히 정리됨
- SQL 기본 실습을 통해 실제 프로젝트 DB 운영 흐름을 익힐 수 있었음

### 🏷️ 키워드 (태그):

`DBever` `RDS` `EC2` `SSH 터널링` `PostgreSQL` `SQL` `create` `DB 인프라` `DB 관리`

| 날짜 | 주제 | 핵심 요약 | 실습 내용 | 문제 해결 / 느낀 점 | 키워드 태그 | 복습 필요 |
| --- | --- | --- | --- | --- | --- | --- |
| 2025-12-26 | DB 연결 및 기본 SQL 작업 | DBeaver로 RDS 연결 및 SQL 생성·삽입·조회 | DB 연결, DB 생성, 테이블 생성, INSERT/SELECT/GROUP BY 실행 | SSH 터널 필요성 이해, SQL 기본 구조 체득 | `#DBeaver` `#RDS` `#EC2` `#SQL` | ✅ |
